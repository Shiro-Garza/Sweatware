Index: Sweatware_Alpha/src/main/java/edu/utsa/cs3443/sweatware_alpha/UIController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package edu.utsa.cs3443.sweatware_alpha;\r\n\r\nimport com.sun.net.httpserver.Authenticator;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.PasswordField;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.CheckBox;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.scene.Node;\r\nimport java.io.*;\r\nimport javafx.animation.PauseTransition;\r\nimport javafx.scene.control.Label;\r\nimport javafx.util.Duration;\r\n\r\npublic class UIController {\r\n\r\n    @FXML\r\n    private PasswordField passwordField;\r\n    @FXML\r\n    private TextField textField;\r\n    @FXML\r\n    private CheckBox showPasswordCheckBox;\r\n    @FXML\r\n    private PasswordField confirmPasswordField;\r\n    @FXML\r\n    private TextField confirmTextField;\r\n    @FXML\r\n    private CheckBox confirmPasswordToggle;\r\n    @FXML\r\n    private Label successLabel;\r\n    @FXML\r\n    private TextField emailField;\r\n    @FXML\r\n    private TextField usernameField;\r\n\r\n\r\n    @FXML\r\n    private void togglePasswordVisibility() {\r\n        if (showPasswordCheckBox.isSelected()) {\r\n            textField.setText(passwordField.getText());\r\n            textField.setVisible(true);\r\n            passwordField.setVisible(false);\r\n        } else {\r\n            passwordField.setText(textField.getText());\r\n            passwordField.setVisible(true);\r\n            textField.setVisible(false);\r\n        }\r\n    }\r\n\r\n    @FXML\r\n    private void toggleConfirmPasswordVisibility() {\r\n        boolean show = confirmPasswordToggle.isSelected();\r\n        if (show) {\r\n            confirmTextField.setText(confirmPasswordField.getText());\r\n        } else {\r\n            confirmPasswordField.setText(confirmTextField.getText());\r\n        }\r\n        confirmTextField.setVisible(show);\r\n        confirmTextField.setManaged(show);\r\n        confirmPasswordField.setVisible(!show);\r\n        confirmPasswordField.setManaged(!show);\r\n    }\r\n\r\n    @FXML\r\n    private void handleCreateAccount(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(\"create-account-view.fxml\"));\r\n        Stage stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n        stage.setScene(new Scene(root));\r\n        stage.show();\r\n    }\r\n\r\n    @FXML\r\n    private void finalizeAccountCreation(ActionEvent event) {\r\n        String username = usernameField.getText().trim();\r\n        String email = emailField.getText().trim();\r\n        String password = passwordField.getText().trim();\r\n        String confirm = confirmPasswordField.getText().trim();\r\n\r\n        // Check for empty fields\r\n        if (username.isEmpty() || email.isEmpty() || password.isEmpty() || confirm.isEmpty()) {\r\n            successLabel.setText(\"All fields are required.\");\r\n            successLabel.setStyle(\"-fx-text-fill: red;\");\r\n            successLabel.setVisible(true);\r\n            return;\r\n        }\r\n\r\n        // Check if passwords match\r\n        if (!password.equals(confirm)) {\r\n            successLabel.setText(\"Passwords do not match.\");\r\n            successLabel.setStyle(\"-fx-text-fill: red;\");\r\n            successLabel.setVisible(true);\r\n            return;\r\n        }\r\n\r\n        // Check for duplicate username or email\r\n        File file = new File(\"data/userInfo.csv\");\r\n        boolean duplicateFound = false;\r\n\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                String[] parts = line.split(\",\");\r\n                if (parts.length >= 2) {\r\n                    String existingUsername = parts[0].trim();\r\n                    String existingEmail = parts[1].trim();\r\n                    if (username.equalsIgnoreCase(existingUsername) || email.equalsIgnoreCase(existingEmail)) {\r\n                        duplicateFound = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            successLabel.setText(\"Error reading user data.\");\r\n            successLabel.setStyle(\"-fx-text-fill: red;\");\r\n            successLabel.setVisible(true);\r\n            return;\r\n        }\r\n\r\n        if (duplicateFound) {\r\n            successLabel.setText(\"Username or email already exists.\");\r\n            successLabel.setStyle(\"-fx-text-fill: red;\");\r\n            successLabel.setVisible(true);\r\n            return;\r\n        }\r\n\r\n        // Write new user to CSV\r\n        try (FileWriter writer = new FileWriter(file, true)) {\r\n            writer.write(username + \",\" + email + \",\" + password + \"\\n\");\r\n        } catch (IOException e) {\r\n            successLabel.setText(\"Error saving account.\");\r\n            successLabel.setStyle(\"-fx-text-fill: red;\");\r\n            successLabel.setVisible(true);\r\n            return;\r\n        }\r\n\r\n        // Success message and redirect\r\n        successLabel.setText(\"Account created successfully!\");\r\n        successLabel.setStyle(\"-fx-text-fill: green;\");\r\n        successLabel.setVisible(true);\r\n\r\n        transitionToLogin(event);\r\n    }\r\n\r\n    @FXML\r\n    private void handleForgotPassword(ActionEvent event) throws IOException {\r\n\r\n        String username = usernameField.getText().trim();\r\n        String email = emailField.getText().trim();\r\n\r\n        Parent root = FXMLLoader.load(getClass().getResource(\"forgot-pass-view.fxml\"));\r\n        Stage stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n        stage.setScene(new Scene(root));\r\n        stage.show();\r\n\r\n        if (username.isEmpty() || email.isEmpty()) {\r\n            successLabel.setText(\"All fields are required.\");\r\n            successLabel.setStyle(\"-fx-text-fill: red;\");\r\n            successLabel.setVisible(true);\r\n            return;\r\n        }\r\n\r\n        File file = new File(\"data/userInfo.csv\");\r\n        boolean duplicateFound = false;\r\n\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                String[] parts = line.split(\",\");\r\n                if (parts.length >= 2) {\r\n                    String existingUsername = parts[0].trim();\r\n                    String existingEmail = parts[1].trim();\r\n                    if (username.equalsIgnoreCase(existingUsername) || email.equalsIgnoreCase(existingEmail)) {\r\n                        duplicateFound = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            successLabel.setText(\"Error reading user data.\");\r\n            successLabel.setStyle(\"-fx-text-fill: red;\");\r\n            successLabel.setVisible(true);\r\n            return;\r\n        }\r\n\r\n        if (duplicateFound) {\r\n            successLabel.setText(\"Email sent\");\r\n            successLabel.setStyle(\"-fx-text-fill: green;\");\r\n            successLabel.setVisible(true);\r\n            return;\r\n        }\r\n\r\n        transitionToLogin(event);\r\n    }\r\n\r\n    private void transitionToLogin(ActionEvent event){\r\n        PauseTransition delay = new PauseTransition(Duration.seconds(3));\r\n        delay.setOnFinished(e -> {\r\n            try {\r\n                Parent loginRoot = FXMLLoader.load(getClass().getResource(\"login-view.fxml\"));\r\n                Stage stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n                stage.setScene(new Scene(loginRoot));\r\n                stage.show();\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        });\r\n        delay.play();\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Sweatware_Alpha/src/main/java/edu/utsa/cs3443/sweatware_alpha/UIController.java b/Sweatware_Alpha/src/main/java/edu/utsa/cs3443/sweatware_alpha/UIController.java
--- a/Sweatware_Alpha/src/main/java/edu/utsa/cs3443/sweatware_alpha/UIController.java	(revision 5defc70fba97afc50ba37b3e59bf04e40dfd4b14)
+++ b/Sweatware_Alpha/src/main/java/edu/utsa/cs3443/sweatware_alpha/UIController.java	(date 1763478260878)
@@ -212,4 +212,4 @@
     }
 
 
-}
+}
\ No newline at end of file
